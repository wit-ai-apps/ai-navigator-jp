<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Navigator JP | v58 Ultimate</title>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, onSnapshot, query, orderBy, addDoc, serverTimestamp, getDocs, deleteDoc, doc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyC990U7XauADarvkUw-WDM7_NMNssp6x2U",
            authDomain: "ai-navigator-jp.firebaseapp.com",
            projectId: "ai-navigator-jp",
            storageBucket: "ai-navigator-jp.firebasestorage.app",
            messagingSenderId: "533690073056",
            appId: "1:533690073056:web:41da64545b73f14fcd3585"
        };
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // --- 100é¸æ‹¡å¼µãƒ‡ãƒ¼ã‚¿ãƒªã‚¹ãƒˆï¼ˆæ—¥æœ¬èªå¯¾å¿œãƒ»ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ æƒ…å ±ä»˜ï¼‰ ---
        const aiDataList = [
            { name: "ChatGPT", company: "OpenAI", cat: "General", rank: "S", price: "Free/Paid", lang: "JP", platform: "Web/App", url: "https://chatgpt.com", desc: "AIã®ä»£åè©ã€‚æœ€æ–°ãƒ¢ãƒ‡ãƒ«GPT-4oã¯æ—¥æœ¬èªèƒ½åŠ›ã‚‚æ¥µã‚ã¦é«˜ãã€é«˜åº¦ãªãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‹ã‚‰æ—¥å¸¸ã®æ‚©ã¿ç›¸è«‡ã€ç”»åƒç”Ÿæˆã¾ã§å®Œç’§ã«ã“ãªã—ã¾ã™ã€‚å…¬å¼ã‚¹ãƒãƒ›ã‚¢ãƒ—ãƒªã‚‚éå¸¸ã«å„ªç§€ã§ã™ã€‚" },
            { name: "Claude 3.5 Sonnet", company: "Anthropic", cat: "General", rank: "S", price: "Free/Paid", lang: "JP", platform: "Web/App", url: "https://claude.ai", desc: "çŸ¥çš„ãªå¯¾è©±ã§å®šè©•ã®ã‚ã‚‹AIã€‚ç‰¹ã«æ—¥æœ¬èªã®è‡ªç„¶ã•ã€æ–‡ç« ä½œæˆã€é•·ã„ã‚³ãƒ¼ãƒ‰ã®ãƒ‡ãƒãƒƒã‚°èƒ½åŠ›ã§ChatGPTã‚’å‡Œé§•ã™ã‚‹å ´é¢ã‚‚ã€‚Artifactsæ©Ÿèƒ½ã§ä½œæˆã—ãŸã‚³ãƒ¼ãƒ‰ã‚’ãã®å ´ã§ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼å¯èƒ½ã§ã™ã€‚" },
            { name: "Cursor", company: "Anysphere", cat: "Dev/Math", rank: "S", price: "Free/Paid", lang: "EN/JP", platform: "App", url: "https://cursor.sh", desc: "VS Codeã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ãŸAIãƒã‚¤ãƒ†ã‚£ãƒ–ãªã‚¨ãƒ‡ã‚£ã‚¿ã€‚ã‚³ãƒ¼ãƒ‰å…¨ä½“ã‚’æŠŠæ¡ã—ãŸææ¡ˆãŒå¯èƒ½ã§ã€æ•°å­¦çš„ãªè¨ˆç®—ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®æ§‹ç¯‰ã‹ã‚‰Webã‚¢ãƒ—ãƒªé–‹ç™ºã¾ã§ã€ç•°æ¬¡å…ƒã®é€Ÿåº¦ã§å®Ÿç¾ã—ã¾ã™ã€‚" },
            { name: "Gemini 1.5 Pro", company: "Google", cat: "General", rank: "S", price: "Free/Paid", lang: "JP", platform: "Web/App", url: "https://gemini.google.com", desc: "Googleã®å„ã‚µãƒ¼ãƒ“ã‚¹ï¼ˆGmail, Drive, Mapç­‰ï¼‰ã¨å¼·åŠ›ã«é€£æºã€‚1æ™‚é–“ä»¥ä¸Šã®å‹•ç”»ã‚„æ•°åƒãƒšãƒ¼ã‚¸ã®è³‡æ–™ã‚’ä¸€åº¦ã«èª­ã¿è¾¼ã‚“ã§è¦ç´„ã§ãã‚‹è¶…å·¨å¤§ãƒ¡ãƒ¢ãƒªãŒæœ€å¤§ã®ç‰¹å¾´ã§ã™ã€‚" },
            { name: "Perplexity AI", company: "Perplexity", cat: "Research", rank: "S", price: "Free/Paid", lang: "JP", platform: "Web/App", url: "https://www.perplexity.ai", desc: "å›ç­”ã®ã™ã¹ã¦ã«ä¿¡é ¼ã§ãã‚‹ã‚½ãƒ¼ã‚¹ï¼ˆå‡ºå…¸ï¼‰ã‚’æ˜ç¤ºã™ã‚‹å¯¾è©±å‹æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã€‚æœ€æ–°ã®ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‹ã‚‰å­¦è¡“çš„ãªèª¿æŸ»ã¾ã§ã€åºƒå‘Šãªã—ã§æ­£ç¢ºãªæƒ…å ±ã‚’å³åº§ã«ã¾ã¨ã‚ä¸Šã’ã¾ã™ã€‚" },
            { name: "Wolfram Alpha", company: "Wolfram", cat: "Dev/Math", rank: "S", price: "Free/Paid", lang: "EN", platform: "Web/App", url: "https://www.wolframalpha.com", desc: "æ•°å­¦ã®è¨ˆç®—çŸ¥è­˜ã‚¨ãƒ³ã‚¸ãƒ³ã€‚å¾®ç©åˆ†ã€ç·šå½¢ä»£æ•°ã€è¤‡é›‘ãªæ–¹ç¨‹å¼ã‚’ã‚¹ãƒ†ãƒƒãƒ—ãƒã‚¤ã‚¹ãƒ†ãƒƒãƒ—ã§è§£ãã¾ã™ã€‚ç”ŸæˆAIã¨é•ã„ã€Œè¨ˆç®—ãƒŸã‚¹ã€ãŒãªã„ãŸã‚ã€ç†æ•°ç³»æ•™å“¡ã‚„ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã«ã¯å¿…é ˆã®ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚" },
            { name: "Runway Gen-3 Alpha", company: "Runway", cat: "Creation", rank: "S", price: "Paid", lang: "EN", platform: "Web/App", url: "https://runwayml.com", desc: "å‹•ç”»ç”ŸæˆAIã®å…ˆé§†è€…ã€‚ç‰©ç†ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã«åŸºã¥ã„ãŸæ¥µã‚ã¦ãƒªã‚¢ãƒ«ãªæ˜ åƒç¾ã‚’èª‡ã‚Šã¾ã™ã€‚æ˜ ç”»åˆ¶ä½œã‚„ãƒ—ãƒ­ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³ãƒ“ãƒ‡ã‚ªã®ç´ æä½œæˆã«é©å‘½ã‚’èµ·ã“ã—ã¦ã„ã¾ã™ã€‚" },
            { name: "HeyGen", company: "HeyGen", cat: "Creation", rank: "S", price: "Paid", lang: "JP", platform: "Web", url: "https://www.heygen.com", desc: "è‡ªåˆ†ã®é¡”ã¨å£°ã§å¤šè¨€èªã‚’è©±ã™ã‚¢ãƒã‚¿ãƒ¼å‹•ç”»ã‚’ç”Ÿæˆã€‚æ—¥æœ¬èªã§å–‹ã£ãŸå‹•ç”»ã‚’ã€æœ¬äººã®å£°è³ªã‚’ç¶­æŒã—ãŸã¾ã¾è‹±èªã‚„ãƒ•ãƒ©ãƒ³ã‚¹èªã«ç¿»è¨³ã—ã€å£ã®å‹•ãã¾ã§åŒæœŸã•ã›ã‚‹é©šç•°ã®æŠ€è¡“ã§ã™ã€‚" },
            { name: "Suno v4", company: "Suno AI", cat: "Creation", rank: "S", price: "Free/Paid", lang: "JP", platform: "Web/App", url: "https://suno.com", desc: "æ­Œè©ã‚„ã‚¹ã‚¿ã‚¤ãƒ«ã‚’å…¥åŠ›ã™ã‚‹ã ã‘ã§ã€ãƒœãƒ¼ã‚«ãƒ«å…¥ã‚Šã®é«˜å“è³ªãªæ¥½æ›²ã‚’æ•°ç§’ã§ç”Ÿæˆã€‚æ—¥æœ¬èªã®æ­Œè©ã«ã‚‚å®Œå…¨å¯¾å¿œã—ã¦ãŠã‚Šã€ã‚‚ã¯ã‚„AIãŒä½œã£ãŸã¨ã¯åˆ¤åˆ¥ã§ããªã„ãƒ¬ãƒ™ãƒ«ã«é”ã—ã¦ã„ã¾ã™ã€‚" },
            { name: "Consensus", company: "Consensus", cat: "Research", rank: "A", price: "Free/Paid", lang: "EN", platform: "Web", url: "https://consensus.app", desc: "2å„„ä»¶ä»¥ä¸Šã®æŸ»èª­æ¸ˆã¿å­¦è¡“è«–æ–‡ã‹ã‚‰ã€æ ¹æ‹ ã®ã‚ã‚‹å›ç­”ã‚’æŠ½å‡ºã€‚è«–æ–‡ã®ä¿¡é ¼æ€§ã‚¹ã‚³ã‚¢ã‚‚è¡¨ç¤ºã•ã‚Œã‚‹ãŸã‚ã€æ­£ç¢ºãªã‚¨ãƒ“ãƒ‡ãƒ³ã‚¹ã‚’å¿…è¦ã¨ã™ã‚‹ç†æ•°ç³»ã®ç ”ç©¶ã‚„æ•™è‚²ç¾å ´ã§é‡å®ã—ã¾ã™ã€‚" }
        ];

        window.bulkUpload = async () => {
            const status = document.getElementById('admin-status');
            status.innerText = "åŒæœŸä¸­...";
            try {
                const snapshot = await getDocs(collection(db, "tools"));
                const existingNames = snapshot.docs.map(d => d.data().name);
                let count = 0;
                for(const data of aiDataList) {
                    if(!existingNames.includes(data.name)) {
                        await addDoc(collection(db, "tools"), { ...data, timestamp: serverTimestamp() });
                        count++;
                    }
                }
                status.innerText = count > 0 ? `${count}ä»¶è¿½åŠ ã—ã¾ã—ãŸã€‚` : "å…¨AIç™»éŒ²æ¸ˆã¿ã€‚";
            } catch (e) { status.innerText = "ã‚¨ãƒ©ãƒ¼: " + e.message; }
        };

        window.deleteAllData = async () => {
            if(!confirm("ãƒªã‚»ãƒƒãƒˆã—ã¾ã™ã‹ï¼Ÿ")) return;
            const snapshot = await getDocs(collection(db, "tools"));
            for (const d of snapshot.docs) { await deleteDoc(doc(db, "tools", d.id)); }
            document.getElementById('admin-status').innerText = "ãƒªã‚»ãƒƒãƒˆå®Œäº†ã€‚";
        };

        let allDocs = [];
        window.applyFilter = () => {
            const word = document.getElementById('search-input').value.toLowerCase();
            const cat = document.getElementById('cat-filter').value;
            const filtered = allDocs.filter(d => {
                const item = d.data();
                return (item.name.toLowerCase().includes(word) || (item.desc || "").toLowerCase().includes(word)) && (cat === "All" || item.cat === cat);
            });
            renderCards(filtered);
        };

        const renderCards = (docs) => {
            const container = document.getElementById('ai-container');
            container.innerHTML = docs.map(doc => {
                const item = doc.data();
                const iconUrl = `https://www.google.com/s2/favicons?sz=128&domain=${new URL(item.url).hostname}`;
                return `
                    <div class="ai-card ${item.rank === 'S' ? 's-rank' : ''}">
                        <div class="card-top">
                            <img src="${iconUrl}" class="ai-icon" alt="icon">
                            <div><div class="ai-name">${item.name}</div><div class="ai-company">${item.company}</div></div>
                        </div>
                        <div class="card-meta">
                            <span class="badge lang">${item.lang === 'JP' ? 'ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª' : 'ğŸŒ ' + item.lang}</span>
                            <span class="badge platform">ğŸ’» ${item.platform}</span>
                            <span class="badge price">${item.price}</span>
                        </div>
                        <div class="desc-wrapper">
                            <p class="ai-desc">${item.desc || 'èª¬æ˜æº–å‚™ä¸­'}</p>
                        </div>
                        <div class="btn-group">
                            <a href="${item.url}" target="_blank" class="btn btn-primary">å…¬å¼ã‚µã‚¤ãƒˆ</a>
                            <button class="btn btn-outline" onclick="this.parentElement.previousElementSibling.classList.toggle('expand'); this.innerText = this.parentElement.previousElementSibling.classList.contains('expand') ? 'é–‰ã˜ã‚‹' : 'å”¸ã‚‹è©³ç´°'">å”¸ã‚‹è©³ç´°</button>
                        </div>
                    </div>
                `;
            }).join('');
        };

        onSnapshot(query(collection(db, "tools"), orderBy("timestamp", "desc")), (s) => { allDocs = s.docs; applyFilter(); });
    </script>
    <style>
        :root { --bg: #0b0f1a; --card: #161e2e; --blue: #38bdf8; --gold: #fbbf24; --text: #f1f5f9; }
        body { background: var(--bg); color: var(--text); font-family: sans-serif; margin: 0; padding: 20px; }
        header { display: flex; justify-content: space-between; align-items: center; max-width: 1200px; margin: 0 auto 10px; }
        .nav-bar { max-width: 1200px; margin: 0 auto 20px; display: flex; gap: 10px; flex-wrap: wrap; }
        input, select { background: #1e293b; border: 1px solid #334155; color: white; padding: 12px; border-radius: 8px; flex: 1; min-width: 250px; }
        
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 15px; max-width: 1200px; margin: 0 auto; }
        .ai-card { background: var(--card); border-radius: 12px; padding: 15px; border: 1px solid #1e293b; transition: 0.2s; height: fit-content; }
        .ai-card.s-rank { border-color: var(--gold); box-shadow: 0 0 10px rgba(251, 191, 36, 0.1); }
        
        .card-top { display: flex; gap: 12px; align-items: center; margin-bottom: 12px; }
        .ai-icon { width: 44px; height: 44px; border-radius: 8px; background: #fff; padding: 4px; }
        .ai-name { font-weight: bold; font-size: 1.1rem; color: #fff; }
        .ai-company { font-size: 0.75rem; color: #94a3b8; }
        
        .card-meta { display: flex; gap: 5px; margin-bottom: 12px; flex-wrap: wrap; }
        .badge { font-size: 0.65rem; padding: 3px 8px; border-radius: 4px; font-weight: bold; background: #1e293b; border: 1px solid #334155; color: #cbd5e1; }
        .lang { border-color: var(--blue); color: var(--blue); }
        
        .desc-wrapper { max-height: 3.2em; overflow: hidden; transition: max-height 0.3s ease; margin-bottom: 12px; }
        .desc-wrapper.expand { max-height: 500px; }
        .ai-desc { font-size: 0.85rem; color: #cbd5e1; line-height: 1.6; margin: 0; }
        
        .btn-group { display: flex; gap: 8px; }
        .btn { flex: 1; padding: 10px; border-radius: 6px; text-align: center; font-size: 0.8rem; font-weight: bold; text-decoration: none; cursor: pointer; border: none; transition: 0.2s; }
        .btn-primary { background: var(--blue); color: #000; }
        .btn-outline { background: transparent; border: 1px solid var(--blue); color: var(--blue); }
        
        .admin-box { background: #1e293b; padding: 15px; border-radius: 12px; margin: 0 auto 20px; max-width: 1200px; display: none; text-align: center; border: 1px solid var(--blue); }
        .admin-box.show { display: block; }
    </style>
</head>
<body>
    <header>
        <h1>AI Navigator <span style="color:var(--blue)">JP</span></h1>
        <button onclick="document.getElementById('admin').classList.toggle('show')" style="background:none; border:none; cursor:pointer; font-size:1.5rem;">âš™ï¸</button>
    </header>

    <div class="nav-bar">
        <input type="text" id="search-input" placeholder="AIåã‚„ç‰¹å¾´ã§æ¤œç´¢..." oninput="applyFilter()">
        <select id="cat-filter" onchange="applyFilter()">
            <option value="All">å…¨ã¦ã®ã‚«ãƒ†ã‚´ãƒª</option>
            <option value="General">å¯¾è©±ãƒ»æ±ç”¨ (ChatGPTç­‰)</option>
            <option value="Dev/Math">é–‹ç™ºãƒ»æ•°å­¦ (Cursor/Wolframç­‰)</option>
            <option value="Creation">å‰µé€ ãƒ»ãƒ‡ã‚¶ã‚¤ãƒ³ (Midjourney/Sunoç­‰)</option>
            <option value="Research">æ¤œç´¢ãƒ»ãƒªã‚µãƒ¼ãƒ (Perplexityç­‰)</option>
        </select>
    </div>

    <div id="admin" class="admin-box">
        <button id="upload-btn" onclick="bulkUpload()" class="btn btn-primary" style="width:auto; padding:10px 30px;">AI 100é¸ã‚’åŒæœŸ</button>
        <button onclick="deleteAllData()" class="btn btn-outline" style="border-color:#ef4444; color:#ef4444; width:auto; padding:10px 30px; margin-left:10px;">ãƒªã‚»ãƒƒãƒˆ</button>
        <div id="admin-status" style="margin-top:10px; font-size:0.9rem; color:var(--blue);"></div>
    </div>

    <div id="ai-container" class="grid"></div>
</body>
</html>
