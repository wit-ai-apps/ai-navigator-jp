<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Navigator JP | v59.0.0 Final</title>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, onSnapshot, query, orderBy, addDoc, serverTimestamp, getDocs, deleteDoc, doc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyC990U7XauADarvkUw-WDM7_NMNssp6x2U",
            authDomain: "ai-navigator-jp.firebaseapp.com",
            projectId: "ai-navigator-jp",
            storageBucket: "ai-navigator-jp.firebasestorage.app",
            messagingSenderId: "533690073056",
            appId: "1:533690073056:web:41da64545b73f14fcd3585"
        };
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // --- Âé≥ÈÅ∏20‰ª∂Ôºà100ÈÅ∏„ÅÆÁ¨¨‰∏ÄÂºæÔºâ„Éá„Éº„Çø„É™„Çπ„Éà ---
        const aiDataList = [
            { rank: 1, name: "ChatGPT", company: "OpenAI", cat: "General", price: "Free/Paid", lang: "JP", platform: "Web/App", url: "https://chatgpt.com", desc: "AI„ÅÆ‰ª£ÂêçË©û„ÄÇÊñáÁ´†„ÄÅÁîªÂÉè„ÄÅÈü≥Â£∞„ÄÅÂàÜÊûê„ÇíÁ∂≤ÁæÖ„ÄÇÊúÄÊñ∞„É¢„Éá„É´GPT-5.5‰∏ñ‰ª£„Å∏„ÄÇ" },
            { rank: 2, name: "Claude 3.7", company: "Anthropic", cat: "General", price: "Free/Paid", lang: "JP", platform: "Web/App", url: "https://claude.ai", desc: "È´ò„ÅÑÁü•ÊÄß„Å®Ëá™ÁÑ∂„Å™Êó•Êú¨Ë™û„ÄÇÈï∑„ÅÑ„Ç≥„Éº„Éâ„ÅÆ„Éá„Éê„ÉÉ„Ç∞„ÇÑÊé®Ë´ñ„ÅßÊúÄÈ´òË©ï‰æ°„ÄÇ" },
            { rank: 3, name: "Perplexity AI", company: "Perplexity", cat: "Research", price: "Free/Paid", lang: "JP", platform: "Web/App", url: "https://www.perplexity.ai", desc: "Âá∫ÂÖ∏‰ªò„ÅçÊ§úÁ¥¢„ÅÆÁéãËÄÖ„ÄÇÊúÄÊñ∞ÊÉÖÂ†±„Çí„ÇΩ„Éº„Çπ‰ªò„Åç„ÅßÂõûÁ≠î„ÅóË™øÊüª„ÇíÁàÜÈÄüÂåñ„ÄÇ" },
            { rank: 4, name: "Gemini 1.5 Pro", company: "Google", cat: "General", price: "Free/Paid", lang: "JP", platform: "Web/App", url: "https://gemini.google.com", desc: "GoogleÈÄ£Êê∫„Å®200‰∏á„Éà„Éº„ÇØ„É≥„ÅÆÂ∑®Â§ß„É°„É¢„É™„ÄÇÈï∑ÊñáË™≠Ëß£„Å´ÂúßÂÄíÁöÑÂº∑„Åø„ÄÇ" },
            { rank: 5, name: "Cursor", company: "Anysphere", cat: "Dev/Math", price: "Free/Paid", lang: "JP", platform: "App", url: "https://cursor.sh", desc: "VS Code„Éô„Éº„Çπ„ÅÆAI„Ç®„Éá„Ç£„Çø„ÄÇËá™ÁÑ∂Ë®ÄË™û„Åß„Ç¢„Éó„É™ÊßãÁØâ„ÅåÂèØËÉΩ„Å™ÊúÄÂº∑„ÉÑ„Éº„É´„ÄÇ" },
            { rank: 6, name: "Runway Gen-4.5", company: "Runway", cat: "Creation", price: "Paid", lang: "EN", platform: "Web/App", url: "https://runwayml.com", desc: "Êò†ÁîªÂìÅË≥™„ÅÆÂãïÁîªÁîüÊàê„ÄÇÁâ©ÁêÜÊ≥ïÂâá„ÇíÁêÜËß£„Åó„Åü„É™„Ç¢„É´„Å™Âãï„Åç„Çí1ÂàÜ‰ª•‰∏äÁîüÊàê„ÄÇ" },
            { rank: 7, name: "Midjourney v7", company: "Midjourney", cat: "Creation", price: "Paid", lang: "EN", platform: "Web", url: "https://www.midjourney.com", desc: "Ëä∏Ë°ìÁöÑÁîªÂÉèÁîüÊàê„ÅÆÈ†ÇÁÇπ„ÄÇÁã¨Ëá™„ÅÆÂØ©ÁæéÁúº„Åß„ÄÅÂÜôÁúü„ÇíË∂Ö„Åà„Åü„Ç¢„Éº„Éà„ÇíÂâµÈÄ†„ÄÇ" },
            { rank: 8, name: "Suno v4", company: "Suno AI", cat: "Creation", price: "Free/Paid", lang: "JP", platform: "Web/App", url: "https://suno.com", desc: "Ê≠åË©û„Åã„Çâ„Éú„Éº„Ç´„É´ÂÖ•„Çä„ÅÆ„Éï„É´Ê•ΩÊõ≤„ÇíÁîüÊàê„ÄÇÊó•Êú¨Ë™û„ÅÆÊ≠åÂî±Âäõ„ÇÇ‰∫∫Èñì„É¨„Éô„É´„ÄÇ" },
            { rank: 9, name: "ElevenLabs", company: "ElevenLabs", cat: "Creation", price: "Free/Paid", lang: "JP", platform: "Web/App", url: "https://elevenlabs.io", desc: "Ë∂ÖÈ´òÂìÅË≥™„Å™Èü≥Â£∞ÂêàÊàê„ÄÇÈ©ö„Åè„Åª„Å©Ëá™ÁÑ∂„Å™Â§öË®ÄË™û„Éä„É¨„Éº„Ç∑„Éß„É≥„ÇíÂÆüÁèæ„ÄÇ" },
            { rank: 10, name: "NotebookLM", company: "Google", cat: "Efficiency", price: "Free", lang: "JP", platform: "Web", url: "https://notebooklm.google.com", desc: "Ëá™ÂàÜ„ÅÆË≥áÊñô„ÇíÂ≠¶Áøí„ÄÇÊ≠£Á¢∫„Å™ÂõûÁ≠î„Å®Èü≥Â£∞Ë¶ÅÁ¥Ñ„ÇíÁîüÊàê„Åô„ÇãÁ©∂Ê•µ„ÅÆÁü•ÁöÑÁîüÁî£„ÄÇ"},
            { rank: 11, name: "GitHub Copilot", company: "GitHub", cat: "Dev/Math", price: "Paid", lang: "JP", platform: "App", url: "https://github.com/features/copilot", desc: "‰∏ñÁïåÊúÄÂ§ß„ÅÆ„Ç≥„Éº„ÉâÂ≠¶ÁøíAI„ÄÇ„ÅÇ„Çâ„ÇÜ„ÇãË®ÄË™û„ÅÆË£úÂÆå„Çí„Çµ„Éù„Éº„Éà„Åô„Çã„Éó„É≠„ÅÆÂèã„ÄÇ"},
            { rank: 12, name: "Luma Dream Machine", company: "Luma AI", cat: "Creation", price: "Free/Paid", lang: "EN", platform: "Web", url: "https://lumalabs.ai", desc: "Ë∂ÖÈ´òÈÄü„Å™ÂãïÁîªÁîüÊàê„ÄÇÈùôÊ≠¢Áîª„Åã„Çâ„ÅÆÂãïÁîªÂåñ„ÇÇÂæóÊÑè„Å™„ÄÅ„ÇØ„É™„Ç®„Ç§„ÉÜ„Ç£„Éñ„ÅÆÊñ∞Ê©üËª∏„ÄÇ"},
            { rank: 13, name: "HeyGen", company: "HeyGen", cat: "Creation", price: "Paid", lang: "JP", platform: "Web", url: "https://www.heygen.com", desc: "„Éì„Éá„Ç™ÁøªË®≥„Å®„Ç¢„Éê„Çø„ÉºÁîüÊàê„ÄÇÂ§öË®ÄË™ûÁô∫‰ø°„Å´„Åä„Åë„Çã„Çπ„Çø„É≥„ÉÄ„Éº„Éâ„ÄÇ"},
            { rank: 14, name: "Wolfram Alpha", company: "Wolfram", cat: "Dev/Math", price: "Free/Paid", lang: "EN", platform: "Web/App", url: "https://www.wolframalpha.com", desc: "Êï∞Â≠¶„ÅÆË®àÁÆóÁü•Ë≠ò„Ç®„É≥„Ç∏„É≥„ÄÇÂæÆÁ©çÂàÜ„ÇÑË§áÈõë„Å™ÊñπÁ®ãÂºè„ÇíÂé≥ÂØÜ„Å´Ëß£„Åè„ÄÇ"},
            { rank: 15, name: "Consensus", company: "Consensus", cat: "Research", price: "Free/Paid", lang: "EN", platform: "Web", url: "https://consensus.app", desc: "2ÂÑÑ‰ª∂„ÅÆÂ≠¶Ë°ìË´ñÊñá„Åã„ÇâÊ†πÊã†„ÇíÊäΩÂá∫„ÄÇ„Ç®„Éì„Éá„É≥„ÇπÈáçË¶ñ„ÅÆË™øÊüª„Å´ÊúÄÂº∑„ÄÇ"},
            { rank: 16, name: "v0.dev", company: "Vercel", cat: "Dev/Math", price: "Free/Paid", lang: "EN", platform: "Web", url: "https://v0.dev", desc: "UI„Çí„Éó„É≠„É≥„Éó„Éà„Åã„ÇâÁîüÊàê„ÄÇReact/Next.js„Ç≥„Éº„Éâ„ÇíÂç≥Âá∫Âäõ„Åô„ÇãÈù©ÂëΩ„ÄÇ"},
            { rank: 17, name: "Gamma", company: "Gamma Tech", cat: "Efficiency", price: "Free/Paid", lang: "JP", platform: "Web", url: "https://gamma.app", desc: "„Éó„É¨„Çº„É≥Ë≥áÊñô„ÅÆËá™ÂãïÁîüÊàê„ÄÇÊï∞Ë°å„ÅÆÊåáÁ§∫„Åã„ÇâÁæé„Åó„ÅÑ„Çπ„É©„Ç§„Éâ„Åå1ÂàÜ„ÅßÂÆåÊàê„ÄÇ"},
            { rank: 18, name: "DeepL Write", company: "DeepL", cat: "Efficiency", price: "Free", lang: "JP", platform: "Web/App", url: "https://www.deepl.com/write", desc: "AI„Å´„Çà„ÇãÊñáÁ´†Ê†°Ê≠£„ÄÇ‰∏çËá™ÁÑ∂„Å™Ë°®Áèæ„Çí„ÄÅÊ¥óÁ∑¥„Åï„Çå„Åü„Éó„É≠„ÅÆÊñá‰Ωì„Å∏‰øÆÊ≠£„ÄÇ"},
            { rank: 19, name: "Grok 3", company: "xAI", cat: "General", price: "Paid", lang: "JP", platform: "Web/App", url: "https://x.com", desc: "X„ÅÆÊúÄÊñ∞„Éà„É¨„É≥„Éâ„ÇíÂ≠¶Áøí„ÄÇ„É¶„Éº„É¢„Ç¢„Å®Âç≥ÊôÇÊÄß„ÇíÂÖº„Å≠ÂÇô„Åà„ÅüË©±È°å„ÅÆAI„ÄÇ"},
            { rank: 20, name: "Sora 2", company: "OpenAI", cat: "Creation", price: "Upcoming", lang: "EN", platform: "Web", url: "https://openai.com/sora", desc: "1ÂàÜ‰ª•‰∏ä„ÅÆÈ´òÂìÅË≥™ÂãïÁîªÁîüÊàê„ÄÇÁâ©Ë™ûÊÄß„ÅÆ„ÅÇ„Çã„Ç∑„Éº„É≥Âà∂‰Ωú„ÇíÂèØËÉΩ„Å´„Åô„ÇãÊ¨°‰∏ñ‰ª£Ê©ü„ÄÇ"}
        ];

        window.bulkUpload = async () => {
            const status = document.getElementById('admin-status');
            status.innerText = "ÂêåÊúü‰∏≠...";
            try {
                const snapshot = await getDocs(collection(db, "tools"));
                const existingNames = snapshot.docs.map(d => d.data().name);
                let count = 0;
                for(const data of aiDataList) {
                    if(!existingNames.includes(data.name)) {
                        await addDoc(collection(db, "tools"), { ...data, timestamp: serverTimestamp() });
                        count++;
                    }
                }
                status.innerText = count > 0 ? `${count}‰ª∂ËøΩÂä†„Åó„Åæ„Åó„Åü„ÄÇ` : "ÂÖ®„Éá„Éº„ÇøÊúÄÊñ∞„Åß„Åô„ÄÇ";
            } catch (e) { status.innerText = "„Ç®„É©„Éº: " + e.message; }
        };

        window.deleteAllData = async () => {
            if(!confirm("„É™„Çª„ÉÉ„Éà„Åó„Åæ„Åô„ÅãÔºü")) return;
            const snapshot = await getDocs(collection(db, "tools"));
            for (const d of snapshot.docs) { await deleteDoc(doc(db, "tools", d.id)); }
            document.getElementById('admin-status').innerText = "„É™„Çª„ÉÉ„ÉàÂÆå‰∫Ü„ÄÇ";
        };

        const renderCards = (docs) => {
            const container = document.getElementById('ai-container');
            container.innerHTML = docs.sort((a,b) => a.data().rank - b.data().rank).map(doc => {
                const item = doc.data();
                const iconUrl = `https://www.google.com/s2/favicons?sz=128&domain=${new URL(item.url).hostname}`;
                return `
                    <div class="ai-card ${item.rank <= 5 ? 's-rank' : ''}">
                        <div class="card-rank">#${item.rank}</div>
                        <div class="card-top">
                            <img src="${iconUrl}" class="ai-icon" alt="icon">
                            <div><div class="ai-name">${item.name}</div><div class="ai-company">${item.company}</div></div>
                        </div>
                        <div class="card-meta">
                            <span class="badge lang">${item.lang === 'JP' ? 'üáØüáµ Êó•Êú¨Ë™û' : 'üåê ' + item.lang}</span>
                            <span class="badge platform">${item.platform}</span>
                            <span class="badge price">${item.price}</span>
                        </div>
                        <div class="desc-wrapper">
                            <p class="ai-desc">${item.desc}</p>
                        </div>
                        <div class="btn-group">
                            <a href="${item.url}" target="_blank" class="btn btn-primary">ÂÖ¨Âºè„Çµ„Ç§„Éà</a>
                            <button class="btn btn-outline" onclick="this.parentElement.previousElementSibling.classList.toggle('expand'); this.innerText = this.parentElement.previousElementSibling.classList.contains('expand') ? 'Èñâ„Åò„Çã' : 'Âî∏„ÇãË©≥Á¥∞'">Âî∏„ÇãË©≥Á¥∞</button>
                        </div>
                    </div>
                `;
            }).join('');
        };

        onSnapshot(query(collection(db, "tools")), (s) => renderCards(s.docs));
    </script>
    <style>
        :root { --bg: #0b0f1a; --card: #161e2e; --blue: #38bdf8; --gold: #fbbf24; --text: #f1f5f9; }
        body { background: var(--bg); color: var(--text); font-family: 'Inter', sans-serif; margin: 0; padding: 20px; }
        header { display: flex; justify-content: space-between; align-items: baseline; max-width: 1200px; margin: 0 auto 20px; border-bottom: 2px solid #1e293b; padding-bottom: 10px; }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 15px; max-width: 1200px; margin: 0 auto; }
        .ai-card { background: var(--card); border-radius: 12px; padding: 15px; border: 1px solid #1e293b; position: relative; display: flex; flex-direction: column; transition: 0.2s; }
        .ai-card.s-rank { border-color: var(--gold); box-shadow: 0 0 10px rgba(251, 191, 36, 0.1); }
        .card-rank { position: absolute; top: 10px; right: 10px; font-size: 0.8rem; font-weight: bold; color: var(--gold); opacity: 0.7; }
        .card-top { display: flex; gap: 10px; align-items: center; margin-bottom: 10px; }
        .ai-icon { width: 36px; height: 36px; border-radius: 6px; background: #fff; padding: 3px; }
        .ai-name { font-weight: bold; font-size: 1rem; color: #fff; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 180px; }
        .ai-company { font-size: 0.7rem; color: #94a3b8; }
        .card-meta { display: flex; gap: 4px; margin-bottom: 10px; flex-wrap: wrap; }
        .badge { font-size: 0.6rem; padding: 2px 6px; border-radius: 4px; font-weight: bold; background: #1e293b; color: #cbd5e1; border: 1px solid #334155; }
        .lang { border-color: var(--blue); color: var(--blue); }
        .desc-wrapper { height: 2.8em; overflow: hidden; transition: 0.3s ease; margin-bottom: 15px; }
        .desc-wrapper.expand { height: auto; min-height: 2.8em; }
        .ai-desc { font-size: 0.75rem; color: #cbd5e1; line-height: 1.4; margin: 0; }
        .btn-group { display: flex; gap: 6px; margin-top: auto; }
        .btn { flex: 1; padding: 8px; border-radius: 6px; text-align: center; font-size: 0.7rem; font-weight: bold; text-decoration: none; cursor: pointer; border: none; }
        .btn-primary { background: var(--blue); color: #000; }
        .btn-outline { background: transparent; border: 1px solid var(--blue); color: var(--blue); }
        .admin-box { background: #1e293b; padding: 15px; border-radius: 12px; margin: 0 auto 20px; max-width: 1200px; display: none; text-align: center; border: 1px solid var(--blue); }
        .admin-box.show { display: block; }
    </style>
</head>
<body>
    <header>
        <h1>AI Navigator <span style="color:var(--blue)">JP</span> <small style="font-size:0.6rem; color:#94a3b8;">v59.0.0 rev.1</small></h1>
        <button onclick="document.getElementById('admin').classList.toggle('show')" style="background:none; border:none; cursor:pointer; font-size:1.2rem;">‚öôÔ∏è</button>
    </header>
    <div id="admin" class="admin-box">
        <button id="upload-btn" onclick="bulkUpload()" class="btn btn-primary" style="width:auto; padding:8px 20px;">AI 100ÈÅ∏„ÇíÂêåÊúü</button>
        <button onclick="deleteAllData()" class="btn btn-outline" style="border-color:#ef4444; color:#ef4444; width:auto; padding:8px 20px; margin-left:10px;">„É™„Çª„ÉÉ„Éà</button>
        <div id="admin-status" style="margin-top:10px; font-size:0.8rem; color:var(--blue);"></div>
    </div>
    <div id="ai-container" class="grid"></div>
</body>
</html>
